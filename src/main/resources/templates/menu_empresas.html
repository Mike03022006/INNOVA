<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <title>Empresas</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --mint:#e9fff5;   /* muy claro */
      --green:#66c49a;  /* medio */
      --teal:#205f77;   /* teal */
      --navy:#0c3863;   /* navy */
      --ink:#0f2430;    /* texto oscuro */
      --card:#ffffff;   /* fondos */
    }

    *{ box-sizing:border-box; }
    body{
      font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      padding-top:72px; /* navbar fija */
      background:
        radial-gradient(1100px 700px at 0% -10%, rgba(102,196,154,.18), transparent 60%),
        radial-gradient(900px 600px at 110% 0%, rgba(32,95,119,.18), transparent 60%),
        linear-gradient(180deg, #f6fffb 0%, #f1fffb 100%);
    }

    /* NAVBAR */
    .navbar-branding{
      background: linear-gradient(90deg, var(--navy) 0%, var(--teal) 50%, var(--green) 100%);
    }
    .navbar .navbar-brand, .navbar .nav-link{ color:#e9fff5 !important; }
    .navbar .navbar-brand:hover, .navbar .nav-link:hover{ color:#fff !important; }

    .user-avatar{ width:36px; height:36px; border-radius:50%; object-fit:cover; }
    .icon-wrap{ position:relative; display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; border-radius:50%; background:rgba(255,255,255,.12); color:#fff; }
    .notification-badge{
      position:absolute; top:-4px; right:-4px;
      background:var(--green); color:#04311e; font-weight:700;
      font-size:.7rem; padding:2px 6px; border-radius:999px; border:1px solid rgba(0,0,0,.1);
    }

    /* TÍTULO */
    .page-title{
      font-weight:800; letter-spacing:.2px; margin-bottom:1rem;
      background: linear-gradient(90deg, var(--teal), var(--navy));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }

    /* LISTA -> GRID DE TARJETAS */
    .companies-list{ padding-left:0; margin:0; list-style:none; }
    .companies-list .col{ display:flex; }

    .company-card{
      border:0; border-radius:16px; background:var(--card);
      box-shadow:0 6px 18px rgba(12,56,99,.08);
      transition:transform .2s ease, box-shadow .2s ease;
      overflow:hidden; width:100%;
    }
    .company-card:hover{
      transform:translateY(-2px);
      box-shadow:0 10px 24px rgba(12,56,99,.14);
    }
    .accent-bar{ height:6px; background:linear-gradient(90deg, var(--green), var(--teal), var(--navy)); }

    .avatar{
      width:48px; height:48px; border-radius:12px;
      background:linear-gradient(135deg, var(--mint), rgba(102,196,154,.6));
      display:inline-flex; align-items:center; justify-content:center;
      color:var(--teal); font-weight:800;
      border:1px solid rgba(12,56,99,.08);
    }
    .company-link{
      color:var(--teal); text-decoration:none; font-weight:700;
    }
    .company-link:hover{ color:var(--navy); }

    /* Accesibilidad */
    .company-link:focus, .btn:focus{
      box-shadow:0 0 0 .25rem rgba(102,196,154,.35);
      outline:none;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark navbar-branding fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" th:href="@{/}">
      <i class="bi bi-arrow-left-circle me-2"></i>Menú Principal
    </a>

    <div class="ms-auto d-flex align-items-center gap-3">
      <div class="icon-wrap">
        <i class="bi bi-bell fs-5"></i>
        <span class="notification-badge">3</span>
      </div>
      <div class="icon-wrap">
        <i class="bi bi-chat fs-5"></i>
        <span class="notification-badge">1</span>
      </div>
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Usuario" class="user-avatar">
    </div>
  </div>
</nav>

<!-- Contenido -->
<main class="container">
  <h1 class="page-title">Lista de Empresas</h1>

  <!-- Grid responsivo manteniendo <ul> -->
  <ul class="companies-list row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3" th:if="${!#lists.isEmpty(empresas)}">
    <li class="col" th:each="empresa : ${empresas}">
      <div class="company-card card h-100">
        <div class="accent-bar"></div>
        <div class="card-body d-flex gap-3 align-items-start">
          <div class="avatar"><i class="bi bi-building"></i></div>
          <div class="flex-grow-1">
            <h5 class="card-title mb-1">
              <a class="company-link stretched-link"
                 th:href="@{/alquileres/empresa/{empresaId}(empresaId=${empresa.id})}"
                 th:text="${empresa.nombre}">Nombre Empresa</a>
            </h5>
            <p class="text-muted mb-0">Empresa</p>
          </div>
        </div>
      </div>
    </li>
  </ul>

  <!-- Estado vacío -->
  <div class="text-center p-4 border-2 border-dashed" style="border:2px dashed rgba(32,95,119,.25); border-radius:16px; background:rgba(233,255,245,.6);" th:if="${#lists.isEmpty(empresas)}">
    <i class="bi bi-inboxes fs-1 d-block mb-2" style="color:var(--teal);"></i>
    <p class="mb-0">No hay empresas para mostrar.</p>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
